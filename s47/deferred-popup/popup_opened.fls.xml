<form id='popup_opened' menuName='popup_opened' platforms='web' xmlns='http://schemas.mobilengine.com/fls/v2'>
	<declarations>
		<let id='fullscreenOpened' shape='scalar' value='{
			SELECT COALESCE(GROUP_CONCAT(t.v, ","), "None") FROM (
				SELECT "1" WHERE fullscreen1.opened UNION ALL
				SELECT "2" WHERE fullscreen1.fullscreen2.opened UNION ALL
				SELECT "3" WHERE fullscreen1.fullscreen2.fullscreen3.opened
			) t
		}' />
		<let id='dialogOpened' shape='scalar' value='{
			SELECT COALESCE(GROUP_CONCAT(t.v, ","), "None") FROM (
				SELECT "1" WHERE dialog1.opened UNION ALL
				SELECT "2" WHERE dialog1.dialog2.opened UNION ALL
				SELECT "3" WHERE dialog1.dialog2.dialog3.opened
			) t
		}' />
		<let id='bubbleOpened' shape='scalar' value='{
			SELECT COALESCE(GROUP_CONCAT(t.v, ","), "None") FROM (
				SELECT "1" WHERE bubble1.opened UNION ALL
				SELECT "2" WHERE bubble1.bubble2.opened UNION ALL
				SELECT "3" WHERE bubble1.bubble2.bubble3.opened
			) t
		}' />
	</declarations>
	<header />

	<textview label='Opened fullscreen popups:' text='{fullscreenOpened}' />
	<popup id='fullscreen1' title='Fullscreen 1'>
		<textview label='Opened fullscreen popups:' text='{fullscreenOpened}' />
		<popup id='fullscreen2' title='Fullscreen 2'>
			<textview label='Opened fullscreen popups:' text='{fullscreenOpened}' />
			<popup id='fullscreen3' title='Fullscreen 3'>
				<textview label='Opened fullscreen popups:' text='{fullscreenOpened}' />
				<backbutton />
			</popup>
			<backbutton />
		</popup>
		<backbutton />
	</popup>

	<textview label='Opened dialog popups:' text='{dialogOpened}' />
	<popup id='dialog1' title='Dialog 1' openMode='dialog'>
		<textview label='Opened dialog popups:' text='{dialogOpened}' />
		<popup id='dialog2' title='Dialog 2' openMode='dialog'>
			<textview label='Opened dialog popups:' text='{dialogOpened}' />
			<popup id='dialog3' title='Dialog 3' openMode='dialog'>
				<textview label='Opened dialog popups:' text='{dialogOpened}' />
				<backbutton />
			</popup>
			<backbutton />
		</popup>
		<backbutton />
	</popup>

	<textview label='Opened bubble popups:' text='{bubbleOpened}' />
	<popup id='bubble1' title='Bubble 1' openMode='bubble'>
		<textview label='Opened bubble popups:' text='{bubbleOpened}' />
		<popup id='bubble2' title='Bubble 2' openMode='bubble'>
			<textview label='Opened bubble popups:' text='{bubbleOpened}' />
			<popup id='bubble3' title='Bubble 3' openMode='bubble'>
				<textview label='Opened bubble popups:' text='{bubbleOpened}' />
				<backbutton />
			</popup>
			<backbutton />
		</popup>
		<backbutton />
	</popup>
</form>