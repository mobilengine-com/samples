<?xml version="1.0" encoding="UTF-8"?>
<form xmlns="http://schemas.mobilengine.com/fls/v3" id="repeater" menuName="repeater" platforms="ios">
	<declarations>
		<let id='cities' shape='table' value='{
			select t.v 
			from ([
				"Budapest", 
				"London", 
				"Paris", 
				"Rome", 
				"Naples", 
				"Szekesfehervar", 
				"Szigetszentmiklos", 
				"Miskolc", 
				"Zalaegerszeg", 
				"Brighton"
			]) t 
			where t.v like "%" || filter.text || "%" 
			order by v asc}'/>
	</declarations>
	<checkbox id="valid"/>
	<textbox id="filter"/>
	<chapter title="qq">
		<textview label="A" text='"xxx"'/>
		<textview label="B" text='"yyy"'/>
	</chapter>
	<repeater record="city" recordset='{select t.v from cities t}'>
		<textview id='a' label="A" text='{city.v}'/>
		<textview id='b' label="B" text='{upper(city.v)}'>
			<validation>
				<validator cond='{text like "%SZ%" or valid.checked}' message='{text || " is not a valid city"}' />
			</validation>
		</textview>
	</repeater>
	<repeater id="foo" record="city" recordset='{select t.v from cities t}'>
		<textview id='a' label="A" text='{city.v}'/>
		<textview id='b' label="B" text='{upper(city.v)}'/>
	</repeater>
	<textview text='{select group_concat(t.a.text, ", ") from foo.rows t}'/>
	<repeater record="city" recordset='{select t.v from cities t}'>
		<textview label="A" text='{city.v}'/>
		<textview label="B" text='{upper(city.v)}'/>
		<popup title='{"in popup of " || city.v}'>
			<repeater record="city2" recordset='{select t.v from cities t}'>
				<textview id='a' label="A" text='{city2.v}'/>
				<textview id='b' label="B" text='{upper(city2.v)}'>
					<validation>
						<validator cond='{text like "%SZ%" or valid.checked}' message='{city.v || "." || text || " is not a valid city"}' />
					</validation>
				</textview>
			</repeater>
		</popup>
	</repeater>
	<table record="city" recordset='{select t.v from cities t}'>
		<row>
			<cell><textview label="A" text='{city.v}'/></cell>
			<cell><textview label="B" text='{upper(city.v)}'/></cell>
			<cell><popup title='{"in popup of " || city.v}'>
				<table record="city2" recordset='{select t.v from cities t}'><row>
					<cell><textview id='a' label="A" text='{city2.v}'/></cell>
					<cell><textview id='b' label="B" text='{upper(city2.v)}'>
						<validation>
							<validator cond='{text like "%SZ%" or valid.checked}' message='{city.v || "." || text || " is not a valid city"}' />
						</validation>
					</textview></cell>
				</row></table>
			</popup></cell>
		</row>
	</table>
</form>